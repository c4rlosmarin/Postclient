<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="mywinui3app.Views.RequestPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:mywinui3app.Views"
    xmlns:controls="using:CommunityToolkit.WinUI.UI.Controls"
    xmlns:controls2="using:CommunityToolkit.WinUI.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid RowDefinitions="Auto,Auto,Auto" Padding="15">
        
        <Grid.Resources>
            <ResourceDictionary>
                <SolidColorBrush x:Key="DataGridCellFocusVisualPrimaryBrush" Color="Transparent"/>
                <SolidColorBrush x:Key="DataGridCellFocusVisualSecondaryBrush" Color="Transparent"/>
            </ResourceDictionary>
        </Grid.Resources>
        
        <Grid x:Name="mainGrid" Grid.Row="0" RowDefinitions="Auto,Auto,Auto,Auto,Auto">
            <Grid Grid.Row="0" ColumnDefinitions="Auto,*">
                <Grid.Resources>
                    <DataTemplate x:Name="GETTabViewItemHeaderTemplate">
                        <Grid Width="Auto">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="5" />
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="GET" Grid.Column="0" Foreground="#22B14C" />
                            <TextBlock Text="{Binding}" Grid.Column="2" />
                        </Grid>
                        <ToolTipService.ToolTip>
                            <ToolTip Content="{Binding}"/>
                        </ToolTipService.ToolTip>
                    </DataTemplate>

                    <DataTemplate x:Name="EditingGETTabViewItemHeaderTemplate">
                        <Grid Width="Auto">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="5" />
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <FontIcon Tag="newRequestIcon" Grid.Column="0" Margin="0,-2" Glyph="&#xe915;" Style="{ThemeResource MyFontIconStyle}" />
                            <TextBlock Text="GET" Grid.Column="1" Foreground="#22B14C"/>
                            <TextBlock Text="{Binding}" Grid.Column="3" />
                        </Grid>
                        <ToolTipService.ToolTip>
                            <ToolTip Content="{Binding}"/>
                        </ToolTipService.ToolTip>
                    </DataTemplate>

                    <DataTemplate x:Name="POSTTabViewItemHeaderTemplate">
                        <Grid Width="Auto">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="5" />
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="POST" Grid.Column="0" Foreground="#218BEB" />
                            <TextBlock Text="{Binding}" Grid.Column="2" />
                        </Grid>
                        <ToolTipService.ToolTip>
                            <ToolTip Content="{Binding}"/>
                        </ToolTipService.ToolTip>
                    </DataTemplate>

                    <DataTemplate x:Name="EditingPOSTTabViewItemHeaderTemplate">
                        <Grid Width="Auto">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="5" />
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <FontIcon Tag="newRequestIcon" Grid.Column="0" Margin="0,-2" Glyph="&#xe915;" Style="{ThemeResource MyFontIconStyle}" />
                            <TextBlock Text="POST" Grid.Column="1" Foreground="#218BEB"/>
                            <TextBlock Text="{Binding}" Grid.Column="3" />
                        </Grid>
                        <ToolTipService.ToolTip>
                            <ToolTip Content="{Binding}"/>
                        </ToolTipService.ToolTip>
                    </DataTemplate>

                    <DataTemplate x:Name="PUTTabViewItemHeaderTemplate">
                        <Grid Width="Auto">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="5" />
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="PUT" Grid.Column="0" Foreground="#D1750A" />
                            <TextBlock Text="{Binding}" Grid.Column="2" />
                        </Grid>
                        <ToolTipService.ToolTip>
                            <ToolTip Content="{Binding}"/>
                        </ToolTipService.ToolTip>
                    </DataTemplate>

                    <DataTemplate x:Name="EditingPUTTabViewItemHeaderTemplate">
                        <Grid Width="Auto">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="5" />
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <FontIcon Tag="newRequestIcon" Grid.Column="0" Margin="0,-2" Glyph="&#xe915;" Style="{ThemeResource MyFontIconStyle}" />
                            <TextBlock Text="PUT" Grid.Column="1" Foreground="#D1750A"/>
                            <TextBlock Text="{Binding}" Grid.Column="3" />
                        </Grid>
                        <ToolTipService.ToolTip>
                            <ToolTip Content="{Binding}"/>
                        </ToolTipService.ToolTip>
                    </DataTemplate>

                    <DataTemplate x:Name="PATCHTabViewItemHeaderTemplate">
                        <Grid Width="Auto">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="5" />
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="PATCH" Grid.Column="0" Foreground="#A347D1" />
                            <TextBlock Text="{Binding}" Grid.Column="2" />
                        </Grid>
                        <ToolTipService.ToolTip>
                            <ToolTip Content="{Binding}"/>
                        </ToolTipService.ToolTip>
                    </DataTemplate>

                    <DataTemplate x:Name="EditingPATCHTabViewItemHeaderTemplate">
                        <Grid Width="Auto">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="5" />
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <FontIcon Tag="newRequestIcon" Grid.Column="0" Margin="0,-2" Glyph="&#xe915;" Style="{ThemeResource MyFontIconStyle}" />
                            <TextBlock Text="PATCH" Grid.Column="1" Foreground="#A347D1"/>
                            <TextBlock Text="{Binding}" Grid.Column="3" />
                        </Grid>
                        <ToolTipService.ToolTip>
                            <ToolTip Content="{Binding}"/>
                        </ToolTipService.ToolTip>
                    </DataTemplate>

                    <DataTemplate x:Name="DELETETabViewItemHeaderTemplate">
                        <Grid Width="Auto">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="5" />
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="DELETE" Grid.Column="0" Foreground="#FF0000" />
                            <TextBlock Text="{Binding}" Grid.Column="2" />
                        </Grid>
                        <ToolTipService.ToolTip>
                            <ToolTip Content="{Binding}"/>
                        </ToolTipService.ToolTip>
                    </DataTemplate>

                    <DataTemplate x:Name="EditingDELETETabViewItemHeaderTemplate">
                        <Grid Width="Auto">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="5" />
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <FontIcon Tag="newRequestIcon" Grid.Column="0" Margin="0,-2" Glyph="&#xe915;" Style="{ThemeResource MyFontIconStyle}" />
                            <TextBlock Text="DELETE" Grid.Column="1" Foreground="#FF0000"/>
                            <TextBlock Text="{Binding}" Grid.Column="3" />
                        </Grid>
                        <ToolTipService.ToolTip>
                            <ToolTip Content="{Binding}"/>
                        </ToolTipService.ToolTip>
                    </DataTemplate>

                    <DataTemplate x:Name="HEADTabViewItemHeaderTemplate">
                        <Grid Width="Auto">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="5" />
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="HEAD" Grid.Column="0" Foreground="#FF6593" />
                            <TextBlock Text="{Binding}" Grid.Column="2" />
                        </Grid>
                        <ToolTipService.ToolTip>
                            <ToolTip Content="{Binding}"/>
                        </ToolTipService.ToolTip>
                    </DataTemplate>

                    <DataTemplate x:Name="EditingHEADTabViewItemHeaderTemplate">
                        <Grid Width="Auto">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="5" />
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <FontIcon Tag="newRequestIcon" Grid.Column="0" Margin="0,-2" Glyph="&#xe915;" Style="{ThemeResource MyFontIconStyle}" />
                            <TextBlock Text="HEAD" Grid.Column="1" Foreground="#FF6593"/>
                            <TextBlock Text="{Binding}" Grid.Column="3" />
                        </Grid>
                        <ToolTipService.ToolTip>
                            <ToolTip Content="{Binding}"/>
                        </ToolTipService.ToolTip>
                    </DataTemplate>

                    <DataTemplate x:Name="OPTIONSTabViewItemHeaderTemplate">
                        <Grid Width="Auto">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="5" />
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="OPTIONS" Grid.Column="0" Foreground="#0051D1" />
                            <TextBlock Text="{Binding}" Grid.Column="2" />
                        </Grid>
                        <ToolTipService.ToolTip>
                            <ToolTip Content="{Binding}"/>
                        </ToolTipService.ToolTip>
                    </DataTemplate>

                    <DataTemplate x:Name="EditingOPTIONSTabViewItemHeaderTemplate">
                        <Grid Width="Auto">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="5" />
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <FontIcon Tag="newRequestIcon" Grid.Column="0" Margin="0,-2" Glyph="&#xe915;" Style="{ThemeResource MyFontIconStyle}" />
                            <TextBlock Text="OPTIONS" Grid.Column="1" Foreground="#0051D1"/>
                            <TextBlock Text="{Binding}" Grid.Column="3" />
                        </Grid>
                        <ToolTipService.ToolTip>
                            <ToolTip Content="{Binding}"/>
                        </ToolTipService.ToolTip>
                    </DataTemplate>
                </Grid.Resources>
                <TextBlock Grid.Column="0" Margin="0,20,0,0">Untitled request</TextBlock>
                <AppBarButton Name="btnSave" Grid.Column="1" Padding="0" Margin="0,0,-6,0" Icon="Save" Label="Save" HorizontalAlignment="Right" Click="btnSave_Click">
                    <AppBarButton.KeyboardAccelerators>
                        <KeyboardAccelerator Modifiers="Control" Key="S"/>
                    </AppBarButton.KeyboardAccelerators>
                </AppBarButton>

            </Grid>
            <Grid Grid.Row="1" ColumnDefinitions="Auto,Auto,*,Auto" Margin="0">
                <ComboBox x:Name="myMethodComboBox" Grid.Column="0" Width="100" SelectedIndex="0" ItemsSource="{x:Bind Methods}" SelectedItem="{Binding SelectedMethod, Mode=TwoWay}" SelectionChanged="myMethodComboBox_SelectionChanged">
                    <ComboBox.ItemTemplate>
                        <DataTemplate x:DataType="local:Method">
                            <TextBlock Text="{x:Bind Name}" />
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>

                <TextBox Grid.Column="1" Margin="10,0,0,0" Text="https://" IsEnabled="False"/>
                <TextBox Grid.Column="2" Margin="10,0,10,0" PlaceholderText="Enter URL"/>
                <Button Name="btnSend" Grid.Column="3" Content="Send" Style="{StaticResource AccentButtonStyle}" Click="btnSend_Click"/>
            </Grid>
            <Grid Grid.Row="2">
                <SelectorBar x:Name="SelectorBar" Margin="-10,10,0,0" SelectionChanged="SelectorBar_SelectionChanged">
                    <SelectorBarItem x:Name="SelectorBarItemPage1" Text="Parameters" IsSelected="True" />
                    <SelectorBarItem x:Name="SelectorBarItemPage2" Text="Headers" />
                    <SelectorBarItem x:Name="SelectorBarItemPage3" Text="Body" />
                </SelectorBar>
            </Grid>
            <controls:DataGrid Grid.Row="3" x:Name="myDataGrid" Margin="0,15" AutoGenerateColumns="False" PreparingCellForEdit="dataGrid_PreparingCellForEdit" CurrentCellChanged="myDataGrid_CurrentCellChanged" Height="400" MinHeight="28" CanDrag="False" CanUserReorderColumns="False" CanUserResizeColumns="True" CanUserSortColumns="False">
                <controls:DataGrid.Columns>
                    <controls:DataGridCheckBoxColumn Header="" Width="40" Binding="{Binding IsSelected, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" CanUserResize="False" />
                    <controls:DataGridTextColumn Header="Key" Binding="{Binding Key, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="*" />
                    <controls:DataGridTextColumn Header="Value" Binding="{Binding Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="*"/>
                    <controls:DataGridTextColumn Header="Description" Binding="{Binding Description, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="*"/>

                    <controls:DataGridTemplateColumn IsReadOnly="True" Width="50">
                        <controls:DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Button Name="btnDelete" HorizontalAlignment="Center" Click="btnDelete_Click">
                                    <FontIcon Glyph="&#xe74d;" FontSize="12"/>
                                    <ToolTipService.ToolTip>
                                        <ToolTip>Delete</ToolTip>
                                    </ToolTipService.ToolTip>
                                </Button>
                            </DataTemplate>
                        </controls:DataGridTemplateColumn.CellTemplate>
                    </controls:DataGridTemplateColumn>
                </controls:DataGrid.Columns>
            </controls:DataGrid>
        </Grid>

        <controls2:ContentSizer Grid.Row="1" TargetControl="{x:Bind myDataGrid}" Orientation="Horizontal" />

        <Grid Grid.Row="2" Height="300">
            <SelectorBar x:Name="SelectorBar2" Margin="-10,10,0,0">
                <SelectorBarItem x:Name="SelectorBarItemPage4" Text="Body" IsSelected="True" />
                <SelectorBarItem x:Name="SelectorBarItemPage5" Text="Headers" />
            </SelectorBar>
        </Grid>

    </Grid>
</Page>
